{#
/**
 * @file
 * Theme override to display a node.
 *
 * Available variables:
 * - node: The node entity with limited access to object properties and methods.
     Only "getter" methods (method names starting with "get", "has", or "is")
     and a few common methods such as "id" and "label" are available. Calling
     other methods (such as node.delete) will result in an exception.
 * - label: The title of the node.
 * - content: All node items. Use {{ content }} to print them all,
 *   or print a subset such as {{ content.field_example }}. Use
 *   {{ content|without('field_example') }} to temporarily suppress the printing
 *   of a given child element.
 * - author_picture: The node author user entity, rendered using the "compact"
 *   view mode.
 * - metadata: Metadata for this node.
 * - date: Themed creation date field.
 * - author_name: Themed author name field.
 * - url: Direct URL of the current node.
 * - display_submitted: Whether submission information should be displayed.
 * - attributes: HTML attributes for the containing element.
 *   The attributes.class element may contain one or more of the following
 *   classes:
 *   - node: The current template type (also known as a "theming hook").
 *   - node--type-[type]: The current node type. For example, if the node is an
 *     "Article" it would result in "node--type-article". Note that the machine
 *     name will often be in a short form of the human readable label.
 *   - node--view-mode-[view_mode]: The View Mode of the node; for example, a
 *     teaser would result in: "node--view-mode-teaser", and
 *     full: "node--view-mode-full".
 *   The following are controlled through the node publishing options.
 *   - node--promoted: Appears on nodes promoted to the front page.
 *   - node--sticky: Appears on nodes ordered above other non-sticky nodes in
 *     teaser listings.
 *   - node--unpublished: Appears on unpublished nodes visible only to site
 *     admins.
 * - title_attributes: Same as attributes, except applied to the main title
 *   tag that appears in the template.
 * - content_attributes: Same as attributes, except applied to the main
 *   content tag that appears in the template.
 * - author_attributes: Same as attributes, except applied to the author of
 *   the node tag that appears in the template.
 * - title_prefix: Additional output populated by modules, intended to be
 *   displayed in front of the main title tag that appears in the template.
 * - title_suffix: Additional output populated by modules, intended to be
 *   displayed after the main title tag that appears in the template.
 * - view_mode: View mode; for example, "teaser" or "full".
 * - teaser: Flag for the teaser state. Will be true if view_mode is 'teaser'.
 * - page: Flag for the full page state. Will be true if view_mode is 'full'.
 * - readmore: Flag for more state. Will be true if the teaser content of the
 *   node cannot hold the main body content.
 * - logged_in: Flag for authenticated user status. Will be true when the
 *   current user is a logged-in member.
 * - is_admin: Flag for admin user status. Will be true when the current user
 *   is an administrator.
 *
 * @ingroup templates
 *
 * @see template_preprocess_node()
 *
 * @todo Remove the id attribute (or make it a class), because if that gets
 *   rendered twice on a page this is invalid CSS for example: two lists
 *   in different view modes.
 */
#}
{% node_type = node.bundle|clean_class %}
{%
  set classes = [
  node_type,
  view_mode ? view_mode|clean_class,
  'clearfix'
]
%}
{% set affiliation = content.field_affiliation['#items'].getString() %}
{% set fonction = content.field_fonction['#items'].getString() %}

<article{{ attributes.addClass(classes) }}>
  <div class="si-image si-picto-{{ node_type }}">
    <svg height="8.4666mm" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" version="1.1" viewBox="0 0 846.66 846.66" width="8.4666mm" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css">.fil0 {fill:black;fill-rule:nonzero}
        </style></defs><g id="Layer_x0020_1"><path class="fil0" d="M80.95 10.66l616.28 0c11.41,0 20.65,9.24 20.65,20.64l0 54.68 47.83 0c11.4,0 20.65,9.25 20.65,20.65l0 708.73c0,11.4 -9.25,20.64 -20.65,20.64l-616.28 0c-11.41,0 -20.65,-9.24 -20.65,-20.64l0 -54.68 -47.83 0c-11.4,0 -20.65,-9.25 -20.65,-20.65l0 -708.73c0,-11.4 9.25,-20.64 20.65,-20.64zm88.16 439.1c-27.15,0 -27.15,-41.29 0,-41.29l439.96 0c27.16,0 27.16,41.29 0,41.29l-439.96 0zm0 198.58c-27.15,0 -27.15,-41.29 0,-41.29l439.96 0c27.16,0 27.16,41.29 0,41.29l-439.96 0zm0 -132.38c-27.15,0 -27.15,-41.29 0,-41.29l439.96 0c27.16,0 27.16,41.29 0,41.29l-439.96 0zm0 66.19c-27.15,0 -27.15,-41.29 0,-41.29l439.96 0c27.16,0 27.16,41.29 0,41.29l-439.96 0zm219.98 -417.92c35.57,0 64.42,28.84 64.42,64.42 0,13.31 -4.04,25.68 -10.97,35.95 10.42,7.99 18.92,18.2 24.89,29.9 15.99,-18.29 25.68,-42.23 25.68,-68.44 0,-57.45 -46.57,-104.02 -104.02,-104.02 -57.45,0 -104.02,46.57 -104.02,104.02 0,26.21 9.69,50.15 25.69,68.44 5.96,-11.7 14.46,-21.91 24.88,-29.9 -6.92,-10.27 -10.96,-22.64 -10.96,-35.95 0,-35.58 28.84,-64.42 64.41,-64.42zm16.87 126.6c-5.37,1.45 -11.03,2.23 -16.87,2.23 -5.83,0 -11.49,-0.78 -16.87,-2.23 -13.08,5.05 -23.36,15.91 -27.67,29.26 13.5,6.41 28.6,9.99 44.54,9.99 15.94,0 31.04,-3.58 44.54,-9.99 -4.31,-13.36 -14.57,-24.2 -27.67,-29.26zm-16.87 -85.3c-12.77,0 -23.12,10.35 -23.12,23.12 0,12.77 10.35,23.12 23.12,23.12 12.77,0 23.12,-10.35 23.12,-23.12 0,-12.78 -10.35,-23.12 -23.12,-23.12zm0 -124.78c80.25,0 145.32,65.06 145.32,145.31 0,80.25 -65.07,145.31 -145.32,145.31 -80.25,0 -145.31,-65.06 -145.31,-145.31 0,-80.25 65.06,-145.31 145.31,-145.31zm328.79 46.52l0 612.76c0,11.4 -9.24,20.65 -20.65,20.65l-527.16 0 0 34.03 575 0 0 -667.44 -27.19 0zm-41.29 -75.32l-575 0 0 667.44 575 0 0 -612.76 0 -54.68z"/></g></svg>
  </div>
  <div class="si-info">
    <span class="si-type">{{ node_type_text }}</span><span class="si-categ">{{ affiliation|capitalize }}</span>
    <h2{{ title_attributes.addClass('si-title') }}>
      <a href="{{ url }}" rel="bookmark" title="{{ label.0 }}">{{ label.0 }}</a>
    </h2>
    {{ title_suffix }}
    <div>{{ fonction }}</div>
    {% if expertises %}
      <p class="skills">
        {% for key, expertise in expertises|filter((value, key) => key|first != '#') %}
          <span>{{ expertise|raw }}</span>
        {% endfor %}
      </p>
    {% endif %}
    <div class="btn-wrapper">
      <a href="{{ url }}" class="btn btn-primary" title="readmore">{{ "Read more"|t }}</a>
    </div>
  </div>
</article>
